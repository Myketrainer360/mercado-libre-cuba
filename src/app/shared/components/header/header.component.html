<header class="header">
  <!-- Logo e nome dell'App -->
  <div class="header-brand">
    <div>
      <h1 class="app-title">Mercado Libre <span class="cuba">Cuba</span></h1>
    </div>
  </div>

  <!-- Menu di navigazione principale  -->
  <nav class="nav-menu">
    <!-- Ogni link usa routerLinkActive per mostrare quale pagina è attiva -->
    <a routerLink="/home" routerLinkActive="active" class="nav-item">
      <span class="nav-icon">🏠</span>
      <span class="nav-text">Inicio</span>
    </a>

    <a routerLink="/search" routerLinkActive="active" class="nav-item">
      <span class="nav-icon">🔍</span>
      <span class="nav-text">Buscar</span>
    </a>

    <a
      routerLink="/create-ad"
      routerLinkActive="active"
      class="nav-item create-button"
    >
      <span class="nav-icon">➕</span>
      <span class="nav-text">Publicar</span>
    </a>

    <a routerLink="/messages" routerLinkActive="active" class="nav-item">
      <span class="nav-icon">💬</span>
      <span class="nav-text">Mensajes</span>
      <!-- Badge per messaggi non letti -->
      @if (unreadMessages) {
      <span class="badge">{{ unreadMessages }}</span>
      }
    </a>

    <a routerLink="/profile" routerLinkActive="active" class="nav-item">
      <span class="nav-icon">👤</span>
      <span class="nav-text">Perfil</span>
    </a>
  </nav>

  <!-- Menu hamburger per dispositivi mobili -->
  <button
    class="mobile-menu-toggle"
    aria-label="Toggle mobile menu"
    (click)="toggleMobileMenu()"
    [class.open]="isMobileMenuOpen"
  >
    <span class="hamburger-line"></span>
    <span class="hamburger-line"></span>
    <span class="hamburger-line"></span>
  </button>
</header>

<!-- Menu mobile che appare quando clicchi l'hamburger -->
<nav class="mobile-nav" [class.show]="isMobileMenuOpen">
  <a
    routerLink="/home"
    routerLinkActive="active"
    class="mobile-nav-item"
    (click)="closeMobileMenu()"
  >
    <span class="nav-icon">🏠</span>
    Inicio
  </a>

  <a
    routerLink="/search"
    routerLinkActive="active"
    class="mobile-nav-item"
    (click)="closeMobileMenu()"
  >
    <span class="nav-icon">🔍</span>
    Buscar
  </a>

  <a
    routerLink="/create-ad"
    routerLinkActive="active"
    class="mobile-nav-item create-button"
    (click)="closeMobileMenu()"
  >
    <span class="nav-icon">➕</span>
    Publicar Anuncio
  </a>

  <a
    routerLink="/messages"
    routerLinkActive="active"
    class="mobile-nav-item"
    (click)="closeMobileMenu()"
  >
    <span class="nav-icon">💬</span>
    Mensajes
    <span class="badge" *ngIf="unreadMessages > 0">{{ unreadMessages }}</span>
  </a>

  <a
    routerLink="/profile"
    routerLinkActive="active"
    class="mobile-nav-item"
    (click)="closeMobileMenu()"
  >
    <span class="nav-icon">👤</span>
    Mi Perfil
  </a>
</nav>
